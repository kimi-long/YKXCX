{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/pc/Desktop/YKXCXCopy/pages/yuyue/yuyue.vue?8390","webpack:///C:/Users/pc/Desktop/YKXCXCopy/pages/yuyue/yuyue.vue?c27f","webpack:///C:/Users/pc/Desktop/YKXCXCopy/pages/yuyue/yuyue.vue?7fcb","webpack:///C:/Users/pc/Desktop/YKXCXCopy/pages/yuyue/yuyue.vue?2e53","uni-app:///pages/yuyue/yuyue.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiFnnB,iE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJA,8D,gyCAQA,EACA,cACA,gBADA,EAEA,cAFA,EAGA,gBAHA,EAGA,oBAHA,EADA,EAMA,IANA,kBAMA,CACA,SACA,gDADA,EAEA,WAFA,EAGA,UAHA,EAGA;AACA,2CAJA,EAIA;AACA,mBALA,EAKA;AACA,yBANA,EAMA;AACA,aACA,EADA,EAEA,EAFA,EAGA,EAHA,EAIA,EAJA,CAPA,EAYA;AACA,8CAbA,GAeA,CAtBA,EAuBA,MAvBA,kBAuBA,CAvBA,EAuBA,CACA,6CACA,eACA,qBADA,IAGA,CAJA,MAIA,CACA,4BACA,4BACA,4BACA,4BACA,CAEA,CAnCA,EAoCA,MApCA,oBAoCA,EApCA,EAqCA,MArCA,oBAqCA,EArCA,EAsCA,WACA,QADA,oBACA,CADA,EACA,CACA,eACA,oDACA,oDACA,2CACA,+BACA,iBACA,kIADA,IAGA,CAVA,EAWA,mBAXA,+BAWA,IAXA,EAWA,kBACA,kBACA,eADA,IAGA,cACA,4BADA,EAEA,cAFA,EAGA,QACA,wCADA,EAEA,kCAFA,EAGA,0CAHA,EAIA,UAJA,EAKA,kCALA,EAMA,SANA,EAHA,EAWA,gCACA,uBACA,+BACA,gBACA,gCACA,2BACA,CAFA,MAEA,CACA,4BACA,CAEA,CAPA,MAOA,gBACA,gCACA,2BACA,CAFA,MAEA;AACA;AACA;AACA,aANA,MAMA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,aANA,MAMA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA,eAFA,MAEA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,aAVA;AAWA;AACA;AACA,WAxCA,MAwCA;AACA;AACA,gCADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA,SA5DA;AA6DA,gCA7DA;AA8DA,wCA9DA;;AAgEA,KA/EA;AAgFA,SAhFA,mBAgFA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KArFA;AAsFA,aAtFA,qBAsFA,KAtFA,EAsFA;AACA;AACA,KAxFA;AAyFA;AACA,aA1FA,uBA0FA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA;AAEA,wBAFA;AAGA;AACA,oDADA;AAEA,8CAFA;AAGA,sDAHA;AAIA,sBAJA;AAKA,8CALA;AAMA,qBANA,EAHA;;AAWA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA,iBAFA,MAEA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAfA,MAeA;AACA;AACA,kCADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA,WAnCA;AAoCA,kCApCA;AAqCA,0CArCA;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtDA;AAuDA,KAlJA;AAmJA;AACA;AACA,mCADA,CACA;AACA;AACA,KAvJA;AAwJA;AACA;AACA;AACA;AACA;AACA,0DAJA,CAIA;AACA;AACA,oBADA;AAEA,kBAFA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BALA,CAKA;AACA,OANA;AAOA,KAnBA,EAmBA,GAnBA,CAzJA;AA6KA;AACA,gBA9KA,wBA8KA,CA9KA,EA8KA;AACA;AACA,KAhLA;AAiLA,eAjLA,uBAiLA,CAjLA,EAiLA;AACA;AACA,KAnLA;AAoLA,cApLA,sBAoLA,CApLA,EAoLA;AACA;AACA,KAtLA;AAuLA,aAvLA,uBAuLA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,uBAFA;;AAIA,wCALA,CAKA;AACA,OANA,EAMA,IANA;AAOA,KA5MA,EAtCA,E","file":"pages/yuyue/yuyue.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/yuyue/yuyue.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./yuyue.vue?vue&type=template&id=2aa79262&\"\nvar renderjs\nimport script from \"./yuyue.vue?vue&type=script&lang=js&\"\nexport * from \"./yuyue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/yuyue/yuyue.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yuyue.vue?vue&type=template&id=2aa79262&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.list, function(listItem, listIndex) {\n    var $orig = _vm.__get_orig(listItem)\n\n    var l0 =\n      listItem.length > 0\n        ? _vm.__map(listItem, function(item, index) {\n            var $orig = _vm.__get_orig(item)\n\n            var g0 = Math.round(item.singlePrice)\n            return {\n              $orig: $orig,\n              g0: g0\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yuyue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yuyue.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :class=\"themeName\">\r\n\t\t<view class=\"pageyuyue\">\r\n\t\t\t<view class=\"container999\" @touchstart=\"refreshStart\" @touchmove=\"refreshMove\" @touchend=\"refreshEnd\">\r\n\t\t\t\t<!-- 刷新组件需搭配scroll-view使用，并在pages.json中添加 \"disableScroll\":true-->\r\n\t\t\t\t<refresh ref=\"refresh\" @isRefresh='isRefresh'></refresh>\r\n\t\t\t\t<view class='nav'>\r\n\t\t\t\r\n\t\t\t\t\t<!-- 搜索 -->\r\n\t\t\t\t\t<!-- \t\t\t<view class='searchInput999'>\r\n\t\t\t\t\t\t<view class='searchBox999'>\r\n\t\t\t\t\t\t\t<image src='/static/icon-search.png' class='search999'></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<input class='input999' placeholder=\"输入关键词\"></input>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<!-- 导航栏 agents导航栏标题 -->\r\n\t\t\t\t\t<navTab ref=\"navTab\" :tabTitle=\"tabTitle\" @changeTab='changeTab'></navTab>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- swiper切换 swiper-item表示一页 scroll-view表示滚动视窗 -->\r\n\t\t\t\t<swiper style=\"min-height: 100vh;\" :current=\"currentTab\" @change=\"swiperTab\">\r\n\t\t\t\t\t<swiper-item v-for=\"(listItem,listIndex) in list\" :key=\"listIndex\">\r\n\t\t\t\t\t\t<scroll-view style=\"height: 100%;\" scroll-y=\"true\" @scrolltolower=\"lower1\" scroll-with-animation :scroll-into-view=\"toView\">\r\n\t\t\t\t\t\t\t<view :id=\"'top'+listIndex\" style=\"width: 100%;height: 120upx;\"></view>\r\n\t\t\t\t\t\t\t<view class='content'  v-if=\"listItem.length > 0\">\r\n\t\t\t\t\t\t\t\t<view class=\"yuyueListItem\" v-for=\"(item,index) in listItem\" :key='index' @tap='toLesson' :data-statec=\"item.state\" :data-RowClassID=\"item.ID\" :data-PreAboutID=\"item.PreAboutID\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"riliKeListItemImg\" :style=\"{backgroundImage: 'url(' + item.CourseHeadUrl + ')'}\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 0 ||currentTab == 3 \">已预约</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 1\">已完成</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 2 && item.state == 0\">学员取消</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 2 && item.state == 1\">预约</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 2 && item.state == 2\">签到</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 2 && item.state == 3\">未到</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 2 && item.state == 4\">机构取消</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemImgText\" v-if=\"currentTab == 2 && item.state == 5\">请假</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t<view class=\"riliKeListItemInfo\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"firstLine\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemInfoClass\" v-if=\"item.RowClassType == '0'\">班课</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemInfoClass\" v-if=\"item.RowClassType == '1'\">私教</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemInfoName\">{{item.CourseName}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"riliKeListItemInfoTime\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.SKtime}}  {{item.startTime}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"riliKeListItemInfoClassTime\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemInfoClassTime\" v-if='item.ConsumptionOfClass'>{{item.ConsumptionOfClass}}课时</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"riliKeListItemInfoClassPrice\"  v-if='Math.round(item.singlePrice) != 0'>￥{{item.singlePrice}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"riliKeListItemInfoClassTeacher\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.Name}}\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"can\" v-if=\"currentTab == 1\">评价</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"can\" v-else>详情</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"mybnWMth\">已到底部</view>\r\n\t\t\t\t\t\t\t\t<view style=\"width: 100%;height: 150upx;opacity:0;\">底部占位盒子</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"kong noCard\" v-if='listItem.length == 0'>\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont iconkong themeColor\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"zanwu\">暂无对应的预约</view>\r\n\t\t\t\t\t\t\t\t<view class=\"zanwu\">浏览一下其他预约吧</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t\t<bottom-Bar :index=\"indexNum\"></bottom-Bar>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\tconst util = require('../../util/util.js');\r\n\timport refresh from '../../components/liebiaozujian/refresh.vue';\r\n\timport navTab from '../../components/liebiaozujian/navTab.vue';\r\n\timport tabBar4 from '../../components/liebiaozujian/tabBar4.vue';\r\n\timport {\r\n\t\tStuGetListPreAbout\r\n\t} from '../../static/js/env.js'\r\n\timport bottomBar from \"@/components/bottomBar/bottomBar.vue\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\trefresh,\r\n\t\t\tnavTab,\r\n\t\t\ttabBar4,bottomBar\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tthemeName:'theme'+uni.getStorageSync('theme'),\r\n\t\t\t\tindexNum: 3,\r\n\t\t\t\ttoView: '', //回到顶部id\r\n\t\t\t\ttabTitle: ['已预约', '已完成', '其他', '未签到'], //导航栏格式 --导航栏组件\r\n\t\t\t\tcurrentTab: 0, //sweiper所在页\r\n\t\t\t\tpages: [1, 1, 1, 1], //第几个swiper的第几页\r\n\t\t\t\tlist: [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t],//数据格式\r\n\t\t\t\tfinishList:[false,false,false,false]\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tif(uni.getStorageSync('StudentID') == '0'){\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.StuGetListPreAboutF(1);\r\n\t\t\t\tthis.StuGetListPreAboutF(2);\r\n\t\t\t\tthis.StuGetListPreAboutF(3);\r\n\t\t\t\tthis.StuGetListPreAboutF(4);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShow() {},\r\n\t\tonHide() {},\r\n\t\tmethods: {\r\n\t\t\ttoLesson(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tvar RowClassID = e.currentTarget.dataset.rowclassid;\r\n\t\t\t\tvar PreAboutID = e.currentTarget.dataset.preaboutid;\r\n\t\t\t\tvar state = e.currentTarget.dataset.statec;\r\n\t\t\t\tlet type = this.currentTab +1;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../kechengDetail/kechengDetail?RowClassID='+RowClassID+'&state='+state+'&PreAboutID='+PreAboutID+'&type='+type\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tStuGetListPreAboutF(data) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中...\"\r\n\t\t\t\t})\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: StuGetListPreAbout,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tStoresID: uni.getStorageSync('StoresID'),\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\tStudentID: uni.getStorageSync('StudentID'),\r\n\t\t\t\t\t\tType: data,\r\n\t\t\t\t\t\tpages: this.pages[this.currentTab],\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet resData = res.data;\r\n\t\t\t\t\t\tif (resData.orsuccess == \"1\") {\r\n\t\t\t\t\t\t\tif(data == 1){\r\n\t\t\t\t\t\t\t\tif(resData.data.length != 10){\r\n\t\t\t\t\t\t\t\t\tthis.finishList[0] = true;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.finishList[0] = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else if(data ==2){\r\n\t\t\t\t\t\t\t\tif(resData.data.length !=10){\r\n\t\t\t\t\t\t\t\t\tthis.finishList[1] = true;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.finishList[1] = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else if(data == 3){\r\n\t\t\t\t\t\t\t\tif(resData.data.length !=10){\r\n\t\t\t\t\t\t\t\t\tthis.finishList[2] = true;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.finishList[2] = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else if(data == 4){\r\n\t\t\t\t\t\t\t\tif(resData.data.length !=10){\r\n\t\t\t\t\t\t\t\t\tthis.finishList[3] = true;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.finishList[3] = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresData.data.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\tif(data == 1){\r\n\t\t\t\t\t\t\t\t\tthis.list[0].push(item);\r\n\t\t\t\t\t\t\t\t}else if(data ==2){\r\n\t\t\t\t\t\t\t\t\tthis.list[1].push(item);\r\n\t\t\t\t\t\t\t\t}else if(data == 3){\r\n\t\t\t\t\t\t\t\t\tthis.list[2].push(item);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.list[3].push(item);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: resData.Msg,\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoTop() {\r\n\t\t\t\tthis.toView = ''\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.toView = 'top' + this.currentTab\r\n\t\t\t\t}, 10)\r\n\t\t\t},\r\n\t\t\tchangeTab(index) {\r\n\t\t\t\tthis.currentTab = index;\r\n\t\t\t},\r\n\t\t\t// 其他请求事件 当然刷新和其他请求可以写一起 多一层判断。\r\n\t\t\tisRequest() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tthis.pages[this.currentTab]++\r\n\t\t\t\t\tlet data = this.currentTab +1;\r\n\t\t\t\t\tvar that = this\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: StuGetListPreAbout,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tStoresID: uni.getStorageSync('StoresID'),\r\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\tStudentID: uni.getStorageSync('StudentID'),\r\n\t\t\t\t\t\t\tType: data,\r\n\t\t\t\t\t\t\tpages: that.pages[that.currentTab],\r\n\t\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tlet resData = res.data;\r\n\t\t\t\t\t\t\tif (resData.orsuccess == \"1\") {\r\n\r\n\t\t\t\t\t\t\t\tif(resData.data.length != 10){\r\n\t\t\t\t\t\t\t\t\tif(this.currentTab == 0){\r\n\t\t\t\t\t\t\t\t\t\tthis.finishList[0] = true;\r\n\t\t\t\t\t\t\t\t\t}else if(this.currentTab == 1){\r\n\t\t\t\t\t\t\t\t\t\tthis.finishList[1] = true;\r\n\t\t\t\t\t\t\t\t\t}else if(this.currentTab == 2){\r\n\t\t\t\t\t\t\t\t\t\tthis.finishList[2] = true;\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthis.finishList[3] = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\tresolve(resData.data)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: resData.Msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t\t// \tuni.hideLoading()\r\n\t\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t\t// \t\ttitle: `请求第${that.currentTab + 1 }个导航栏的第${that.pages[that.currentTab]}页数据成功`\r\n\t\t\t\t\t// \t})\r\n\t\t\t\t\t// \tlet newData = ['新数据1', '新数据2', '新数据3']\r\n\t\t\t\t\t// \tresolve(newData)\r\n\t\t\t\t\t// }, 1000)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// swiper 滑动\r\n\t\t\tswiperTab: function(e) {\r\n\t\t\t\tvar index = e.detail.current //获取索引\r\n\t\t\t\tthis.$refs.navTab.longClick(index);\r\n\t\t\t},\r\n\t\t\t// 加载更多 util.throttle为防抖函数\r\n\t\t\tlower1: util.throttle(function(e) {\r\n\t\t\t\tif(this.finishList[this.currentTab]){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(`加载${this.currentTab}`) //currentTab表示当前所在页数 根据当前所在页数发起请求并带上page页数\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.finishList);\r\n\t\t\t\tconsole.log(this.finishList[this.currentTab]);\r\n\r\n\t\t\t\tthis.isRequest().then((res) => {\r\n\t\t\t\t\tlet tempList = this.list\r\n\t\t\t\t\ttempList[this.currentTab] = tempList[this.currentTab].concat(res)\r\n\t\t\t\t\tconsole.log(tempList)\r\n\t\t\t\t\tthis.list = tempList\r\n\t\t\t\t\tthis.$forceUpdate() //二维数组，开启强制渲染\r\n\t\t\t\t})\r\n\t\t\t}, 300),\r\n\t\t\t// 刷新touch监听\r\n\t\t\trefreshStart(e) {\r\n\t\t\t\tthis.$refs.refresh.refreshStart(e);\r\n\t\t\t},\r\n\t\t\trefreshMove(e) {\r\n\t\t\t\tthis.$refs.refresh.refreshMove(e);\r\n\t\t\t},\r\n\t\t\trefreshEnd(e) {\r\n\t\t\t\tthis.$refs.refresh.refreshEnd(e);\r\n\t\t\t},\r\n\t\t\tisRefresh() {\r\n\t\t\t\tlet data = this.currentTab +1\r\n\t\t\t\tif(this.currentTab == 0){\r\n\t\t\t\t\tthis.list[0] = [];\r\n\t\t\t\t}else if(this.currentTab == 1){\r\n\t\t\t\t\tthis.list[1] = [];\r\n\t\t\t\t}else if(this.currentTab == 2){\r\n\t\t\t\t\tthis.list[2] = [];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.list[3] = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\tconsole.log(this.list);\r\n\t\t\t\tthis.StuGetListPreAboutF(data);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: '刷新成功'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$refs.refresh.endAfter() //刷新结束调用\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n\n"],"sourceRoot":""}